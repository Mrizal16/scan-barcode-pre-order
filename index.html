<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PO Kaos â€” Scan Order</title>
  <link rel="stylesheet" href="./style.css" />
  <!-- html5-qrcode -->
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
  <div class="page">
    <header class="topbar">
      <div class="brand">
        <span class="logo">ðŸ§¾</span>
        <div class="titles">
          <h1>Scan Pengambilan</h1>
          <p class="muted">Verifikasi QR â†’ blokir scan ganda secara otomatis</p>
        </div>
      </div>
      <div class="right">
        <a class="link" href="./print.html" title="Cetak QR dari tokens.json">Cetak QR</a>
      </div>
    </header>

    <section class="panel">
      <div class="controls">
        <div class="row">
          <label for="cameraSelect">Kamera</label>
          <select id="cameraSelect"></select>
        </div>
        <div class="row two">
          <button id="startBtn" class="btn primary">Mulai Scan</button>
          <button id="stopBtn" class="btn" disabled>Berhenti</button>
          <button id="flipBtn" class="btn">Flip</button>
          <button id="retryBtn" class="btn" disabled>Scan Lagi</button>
        </div>
        <div class="row">
          <label for="resolution">Resolusi</label>
          <select id="resolution">
            <option value="auto">Auto (disarankan)</option>
            <option value="640x480">640 Ã— 480</option>
            <option value="1280x720">1280 Ã— 720</option>
            <option value="1920x1080">1920 Ã— 1080</option>
          </select>
        </div>
      </div>

      <div id="status" class="status">
        <span id="statusDot" class="dot"></span>
        <span id="statusText">Siap</span>
      </div>

      <div id="readerWrap" class="reader-wrap">
        <div id="reader"></div>
      </div>
    </section>

    <section id="result" class="panel hidden"></section>

    <section class="panel">
      <div class="panel-title">Riwayat Hasil (sesi ini)</div>
      <div id="history" class="history"></div>
    </section>

    <footer class="footer">
      <div class="muted">Tips: akses via HTTPS (GitHub Pages), izinkan kamera, pilih kamera belakang â†’ <b>Mulai Scan</b>.</div>
    </footer>
  </div>

  <audio id="beep" preload="auto">
    <!-- nada beep kecil (base64 wav) -->
    <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYAAAClAAAAPwAA" type="audio/wav">
  </audio>
  <script src="./app.js"></script>
</body>
</html>
